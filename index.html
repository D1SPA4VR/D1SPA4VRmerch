<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>D1SPA4VR Merch</title>
  <style>
    /* --- Loading Screen --- */
    #loadingOverlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background-color: #111;
      color: #ff0033;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2rem;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
    #loadingOverlay.fade-out {
      opacity: 0;
      pointer-events: none;
    }

    body {
      margin: 0;
      background: #2f2f2f;
      color: white;
      font-family: Arial, sans-serif;
    }
    header {
      background: #111;
      padding: 1rem;
      text-align: center;
      font-size: 2.5rem;
      font-weight: bold;
      color: #ff0033;
      text-shadow: 0 0 10px #ff0033;
    }
    .tabs {
      display: flex;
      justify-content: center;
      background: #1e1e1e;
      padding: 1rem;
      gap: 1rem;
    }
    .tabs button {
      background: #ff0033;
      color: white;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 2rem;
      padding: 2rem;
    }
    .product {
      background: #444;
      border-radius: 10px;
      padding: 1rem;
      width: 220px;
      text-align: center;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      position: relative;
    }
    .product:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px red;
    }
    .product h2 {
      color: #ff0033;
      font-size: 1.2rem;
    }
    .stock-label {
      font-weight: bold;
      margin-top: 0.3rem;
    }
    .in-stock {
      color: #28a745;
    }
    .out-stock {
      color: #ff4444;
    }
    .buy-btn {
      background-color: #28a745;
      color: white;
      border: none;
      padding: 0.4rem 1rem;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 0.5rem;
      text-decoration: none;
      display: inline-block;
    }
    .buy-btn:disabled {
      background-color: #555;
      cursor: not-allowed;
    }
    .page {
      display: none;
    }
    .visible {
      display: block;
    }
    .footer {
      text-align: center;
      padding: 1rem;
      color: #ccc;
      font-size: 0.9rem;
    }
    .product-detail {
      display: flex;
      justify-content: space-between;
      background: #3b3b3b;
      padding: 2rem;
      margin: 2rem;
      border-radius: 10px;
    }
    .product-detail .left {
      max-width: 60%;
    }
    .product-detail .right {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      justify-content: center;
    }
    .product-detail button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      font-weight: bold;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .wishlist-btn {
      background-color: #ff9933;
      color: #000;
    }
    .cart-btn {
      background-color: #007bff;
      color: #fff;
    }
    .list-page ul {
      list-style: none;
      padding: 2rem;
    }
    .list-page li {
      background: #444;
      padding: 0.8rem 1rem;
      border-radius: 5px;
      margin-bottom: 0.5rem;
      display: flex;
      justify-content: space-between;
    }
    .remove {
      color: red;
      cursor: pointer;
      font-weight: bold;
    }
    .back-btn {
      color: #ccc;
      margin: 2rem;
      display: inline-block;
      text-decoration: none;
    }
    #adminPanel {
      padding: 2rem;
      display: none;
      background: #222;
      color: white;
    }
    #adminPanel h2 {
      text-align: center;
      color: #ff0033;
    }
    #adminPanel input {
      padding: 0.5rem;
      margin: 0.3rem 0;
      width: 100%;
      border-radius: 5px;
      border: none;
    }
    #adminPanel button {
      margin-top: 0.5rem;
      background: #28a745;
      color: white;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }
  </style>
</head>
<body>
<div id="loadingOverlay">Loading D1SPA4VR Merch...</div>
<header>D1SPA4VR Merch</header>
<div class="tabs">
  <button onclick="showPage('home')">üè† Home</button>
  <button onclick="showPage('wishlist')">üíñ Wishlist</button>
  <button onclick="showPage('cart')">üõí Cart</button>
  <button onclick="showPage('adminPanel')">‚öôÔ∏è Admin</button>
</div>
<div id="home" class="page visible">
  <div class="container" id="productList"></div>
  <div class="footer">All prices USD. Plus realistic shipping & tax.</div>
</div>
<div id="productPage" class="page">
  <div class="product-detail" id="productDetail"></div>
  <a href="#" class="back-btn" onclick="showPage('home')">‚Üê Back to home</a>
</div>
<div id="wishlist" class="page list-page">
  <ul id="wishlistItems"></ul>
</div>
<div id="cart" class="page list-page">
  <ul id="cartItems"></ul>
</div>
<div id="adminPanel" class="page">
  <h2>Admin Panel</h2>
  <input type="text" id="newName" placeholder="Product name" />
  <input type="text" id="newDesc" placeholder="Description" />
  <input type="number" id="newPrice" placeholder="Price" />
  <input type="number" id="newShipping" placeholder="Shipping" />
  <button onclick="addProduct()">Add Product</button>
</div>
<script>
window.addEventListener("load", () => {
  setTimeout(() => document.getElementById("loadingOverlay").classList.add("fade-out"), 1500);
});

const products = [
  { name: "‚úèÔ∏è Custom Pencil", price: 5, desc: "A handmade pencil with your name.", shipping: 1.50, inStock: true },
  { name: "üîñ Bookmark", price: 3, desc: "A cool bookmark made with care.", shipping: 1.20, inStock: true },
  { name: "üé® Sticker Pack 10", price: 10, desc: "10 fun stickers.", shipping: 1.80, inStock: true },
  { name: "üñºÔ∏è Sticker Pack 8", price: 8, desc: "8 stylish stickers.", shipping: 1.70, inStock: true },
  { name: "üß∑ Sticker Pack 4", price: 4, desc: "4 cute stickers.", shipping: 1.60, inStock: true },
  { name: "üßÉ Sticker", price: 2, desc: "Single collectible sticker.", shipping: 1.10, inStock: true }
];

let wishlist = [];
let cart = [];

function showPage(id) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('visible'));
  document.getElementById(id).classList.add('visible');
  if (id === "wishlist") renderList("wishlist");
  if (id === "cart") renderList("cart");
}

function renderProducts() {
  const container = document.getElementById("productList");
  container.innerHTML = "";
  products.forEach((p, i) => {
    const card = document.createElement("div");
    card.className = "product";
    card.innerHTML = `
      <h2>${p.name}</h2>
      <p>$${p.price.toFixed(2)}</p>
      <p>+ $${p.shipping.toFixed(2)} shipping</p>
      <div class="stock-label ${p.inStock ? 'in-stock' : 'out-stock'}">
        ${p.inStock ? 'In Stock' : 'Out of Stock'}
      </div>
      <button class="buy-btn" onclick="viewProduct(${i})" ${!p.inStock ? 'disabled' : ''}>${p.inStock ? 'Buy' : 'Out of Stock'}</button>
    `;
    container.appendChild(card);
  });
}

function viewProduct(i) {
  const p = products[i];
  const stockText = p.inStock ?
    `<div class="stock-label in-stock">In Stock</div>` :
    `<div class="stock-label out-stock">Out of Stock</div>`;

  const buyBtn = p.inStock ?
    `<a href="https://docs.google.com/forms/d/e/1FAIpQLSe35Twu6jvan1QnK4Ad0gVS9BpaoidfQrsENpCymCoPtUJo8Q/viewform" target="_blank" class="buy-btn">Buy Now</a>` :
    `<button class="buy-btn" disabled>Out of Stock</button>`;

  document.getElementById("productDetail").innerHTML = `
    <div class="left">
      <h2>${p.name}</h2>
      <p><strong>Price:</strong> $${p.price.toFixed(2)} + $${p.shipping.toFixed(2)} shipping</p>
      <p>${p.desc}</p>
      ${stockText}
    </div>
    <div class="right">
      <button class="wishlist-btn" onclick="addToList('wishlist', ${i})">Add to Wishlist</button>
      <button class="cart-btn" onclick="addToList('cart', ${i})">Add to Cart</button>
      ${buyBtn}
    </div>
  `;
  showPage("productPage");
}

function addToList(type, index) {
  const list = (type === "wishlist" ? wishlist : cart);
  const item = products[index];
  if (!list.find(p => p.name === item.name)) {
    list.push(item);
    renderList(type);
    alert(`Added to ${type} ‚úîÔ∏è`);
  } else {
    alert("Already added!");
  }
}

function renderList(type) {
  const list = (type === "wishlist" ? wishlist : cart);
  const ul = document.getElementById(type + "Items");
  ul.innerHTML = "";
  list.forEach((p, i) => {
    const li = document.createElement("li");
    li.innerHTML = `${p.name} <span class="remove" onclick="removeFromList('${type}', ${i})">‚ùå</span>`;
    ul.appendChild(li);
  });
}

function removeFromList(type, index) {
  if (type === "wishlist") wishlist.splice(index, 1);
  if (type === "cart") cart.splice(index, 1);
  renderList(type);
}

function addProduct() {
  const name = document.getElementById("newName").value;
  const desc = document.getElementById("newDesc").value;
  const price = parseFloat(document.getElementById("newPrice").value);
  const shipping = parseFloat(document.getElementById("newShipping").value);
  if (!name || !desc || isNaN(price) || isNaN(shipping)) return alert("Fill out all fields correctly");
  products.push({ name, desc, price, shipping, inStock: true });
  renderProducts();
  alert("Product added!");
}

renderProducts();
</script>
</body>
</html>
